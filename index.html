<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Visualiza circuitos electr√≥nicos en realidad aumentada mediante c√≥digos QR">
    <title>Circuito AR - Visualizador de Circuitos Electr√≥nicos</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Pantalla de inicio -->
    <div id="splash-screen" class="screen active">
        <div class="splash-content">
            <div class="logo-container">
                <svg class="circuit-icon" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="40" cy="100" r="25" class="battery" stroke="#00ff88" stroke-width="3" fill="none" />
                    <line x1="65" y1="100" x2="100" y2="100" class="wire" stroke="#00d4ff" stroke-width="3" />
                    <rect x="100" y="85" width="40" height="30" class="resistor" stroke="#ff6b6b" stroke-width="3"
                        fill="none" />
                    <line x1="140" y1="100" x2="175" y2="100" class="wire" stroke="#00d4ff" stroke-width="3" />
                    <circle cx="175" cy="100" r="15" class="led" stroke="#ffd93d" stroke-width="3" fill="none" />
                    <path d="M 175 60 L 175 85" class="wire" stroke="#00d4ff" stroke-width="3" />
                    <path d="M 40 60 L 175 60" class="wire" stroke="#00d4ff" stroke-width="3" />
                    <path d="M 40 85 L 40 60" class="wire" stroke="#00d4ff" stroke-width="3" />
                    <circle class="flow-particle" cx="65" cy="100" r="3" fill="#00ff88">
                        <animate attributeName="cx" from="65" to="175" dur="2s" repeatCount="indefinite" />
                    </circle>
                </svg>
            </div>
            <h1 class="app-title">Circuito<span class="highlight">AR</span></h1>
            <p class="app-subtitle">Visualiza circuitos electr√≥nicos en 3D con c√≥digos QR</p>

            <div class="menu-options">
                <button id="scan-qr-btn" class="primary-btn">
                    <span class="btn-icon">üì∑</span>
                    Escanear QR
                </button>
                <button id="examples-btn" class="secondary-btn">
                    <span class="btn-icon">üìö</span>
                    Ver Ejemplos
                </button>
            </div>

            <div class="feature-cards">
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Flujo de Corriente</h3>
                    <p>Observa c√≥mo fluye la electricidad</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üé®</div>
                    <h3>Componentes 3D</h3>
                    <p>Modelos realistas y detallados</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>F√°cil de Usar</h3>
                    <p>Solo escanea el c√≥digo QR</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Pantalla de ejemplos -->
    <div id="examples-screen" class="screen">
        <div class="examples-header">
            <button id="back-to-home" class="icon-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
            </button>
            <h2>Circuitos de Ejemplo</h2>
        </div>

        <div class="examples-container">
            <!-- Circuito 1: LED Simple -->
            <div class="example-card" data-circuit="led-basico">
                <div class="circuit-preview">
                    <div class="qr-code" id="qr-led-basico"></div>
                </div>
                <div class="example-info">
                    <h3>üîµ LED B√°sico</h3>
                    <p class="circuit-description">Circuito simple con LED, resistencia y bater√≠a</p>
                    <div class="components-list">
                        <span class="component-badge">üîã Bater√≠a 9V</span>
                        <span class="component-badge">‚ö° Resistencia 220Œ©</span>
                        <span class="component-badge">üí° LED Rojo</span>
                    </div>
                    <button class="view-btn" data-circuit="led-basico">
                        Ver en AR
                    </button>
                </div>
            </div>

            <!-- Circuito 2: LEDs en Serie -->
            <div class="example-card" data-circuit="leds-serie">
                <div class="circuit-preview">
                    <div class="qr-code" id="qr-leds-serie"></div>
                </div>
                <div class="example-info">
                    <h3>üî¥üü¢ LEDs en Serie</h3>
                    <p class="circuit-description">Dos LEDs conectados en serie con resistencias</p>
                    <div class="components-list">
                        <span class="component-badge">üîã Bater√≠a 9V</span>
                        <span class="component-badge">‚ö° Resistencia 330Œ© √ó 2</span>
                        <span class="component-badge">üí° LED Rojo + Verde</span>
                    </div>
                    <button class="view-btn" data-circuit="leds-serie">
                        Ver en AR
                    </button>
                </div>
            </div>

            <!-- Circuito 3: LEDs en Paralelo -->
            <div class="example-card" data-circuit="leds-paralelo">
                <div class="circuit-preview">
                    <div class="qr-code" id="qr-leds-paralelo"></div>
                </div>
                <div class="example-info">
                    <h3>üîµüü° LEDs en Paralelo</h3>
                    <p class="circuit-description">Dos LEDs en paralelo, m√°s eficiente</p>
                    <div class="components-list">
                        <span class="component-badge">üîã Bater√≠a 9V</span>
                        <span class="component-badge">‚ö° Resistencia 220Œ© √ó 2</span>
                        <span class="component-badge">üí° LED Azul + Amarillo</span>
                    </div>
                    <button class="view-btn" data-circuit="leds-paralelo">
                        Ver en AR
                    </button>
                </div>
            </div>

            <!-- Circuito 4: Divisor de Voltaje -->
            <div class="example-card" data-circuit="divisor-voltaje">
                <div class="circuit-preview">
                    <div class="qr-code" id="qr-divisor-voltaje"></div>
                </div>
                <div class="example-info">
                    <h3>‚öôÔ∏è Divisor de Voltaje</h3>
                    <p class="circuit-description">Circuito para reducir voltaje con resistencias</p>
                    <div class="components-list">
                        <span class="component-badge">üîã Bater√≠a 9V</span>
                        <span class="component-badge">‚ö° Resistencia 1kŒ© + 2kŒ©</span>
                        <span class="component-badge">üìä Salida 3V</span>
                    </div>
                    <button class="view-btn" data-circuit="divisor-voltaje">
                        Ver en AR
                    </button>
                </div>
            </div>

            <!-- Circuito 5: LED Intermitente (Conceptual) -->
            <div class="example-card" data-circuit="led-intermitente">
                <div class="circuit-preview">
                    <div class="qr-code" id="qr-led-intermitente"></div>
                </div>
                <div class="example-info">
                    <h3>‚è±Ô∏è LED Intermitente</h3>
                    <p class="circuit-description">LED que parpadea (con capacitor)</p>
                    <div class="components-list">
                        <span class="component-badge">üîã Bater√≠a 9V</span>
                        <span class="component-badge">‚ö° Resistencia 470Œ©</span>
                        <span class="component-badge">üîå Capacitor 100¬µF</span>
                        <span class="component-badge">üí° LED Verde</span>
                    </div>
                    <button class="view-btn" data-circuit="led-intermitente">
                        Ver en AR
                    </button>
                </div>
            </div>
        </div>

        <div class="print-instructions">
            <h3>üìÑ Instrucciones de Uso</h3>
            <ol>
                <li>Imprime cualquiera de los c√≥digos QR de arriba</li>
                <li>Vuelve al inicio y selecciona "Escanear QR"</li>
                <li>Apunta la c√°mara al c√≥digo impreso</li>
                <li>¬°Disfruta de la visualizaci√≥n 3D!</li>
            </ol>
        </div>
    </div>

    <!-- Pantalla de c√°mara para escanear QR -->
    <div id="scanner-screen" class="screen">
        <div class="scanner-container">
            <video id="camera-feed" autoplay playsinline></video>
            <canvas id="qr-canvas"></canvas>

            <div class="scan-overlay">
                <div class="scan-frame">
                    <div class="corner top-left"></div>
                    <div class="corner top-right"></div>
                    <div class="corner bottom-left"></div>
                    <div class="corner bottom-right"></div>
                    <div class="scan-line"></div>
                </div>
                <p class="scan-instruction">Centra el c√≥digo QR en el marco</p>
            </div>

            <div class="scanner-controls">
                <button id="close-scanner" class="control-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7" />
                    </svg>
                </button>
            </div>

            <div id="scanner-status" class="scanner-status">
                <div class="status-indicator"></div>
                <span id="scanner-status-text">Buscando c√≥digo QR...</span>
            </div>
        </div>
    </div>

    <!-- Pantalla de visualizaci√≥n AR -->
    <div id="ar-screen" class="screen">
        <div class="ar-container">
            <canvas id="ar-canvas"></canvas>

            <div class="ar-header">
                <h3 id="circuit-title">Circuito</h3>
                <div class="circuit-stats" id="circuit-stats"></div>
            </div>

            <div id="component-info" class="component-info">
                <h4 id="component-name">Componente</h4>
                <p id="component-description"></p>
                <div id="component-specs"></div>
            </div>

            <div class="ar-controls">
                <button id="toggle-animation" class="ar-btn" title="Pausar/Reanudar">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7z" />
                    </svg>
                </button>
                <button id="toggle-labels" class="ar-btn" title="Mostrar/Ocultar etiquetas">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                    </svg>
                </button>
                <button id="reset-view" class="ar-btn" title="Reiniciar vista">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 4v6h6M23 20v-6h-6" />
                        <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" />
                    </svg>
                </button>
                <button id="close-ar" class="ar-btn" title="Cerrar">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Notificaciones -->
    <div id="notification" class="notification"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>

</html>